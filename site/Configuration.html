<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" href="CSS/Configuration.css" />
    <title>Mémory : Version d'essai, configuration</title>

    <script type="application/javascript" src="script/Data_management.js"></script>
</head>
<body onload="init();">

<table id="compteur">
    <tr>
        <td><label for="timeGame">Durée de la partie</label></td>
        <td><input type="number" id="timeGame" name="timeGame"/></td>
    </tr>
    <tr>
        <td><label for="timeMemo">Durée de visibilité</label></td>
        <td><input type="number" id="timeMemo" name="timeMemo"/></td>
    </tr>
</table>

<!--<table>
    <tr>
        <td><label for="gameVersion">Version du jeu</label></td>
        <td><select name="gameVersion" id="gameVersion">
        <option value="humors">jeu drôle</option>
        <option value="sad">jeu triste</option></select></td>
    </tr>
    <tr>
        <td><label for="timeGame">durée de la partie</label></td>
        <td><input type="number" id="timeGame" name="timeGame"/></td>
    </tr>
    <tr>
        <td><label for="timeMemo">temps pour mémorisée</label></td>
        <td><input type="number" id="timeMemo" name="timeMemo"/></td>
    </tr>
    <tr>
        <td><label for="see">Disposition des cartes</label></td>
        <td><input type="text" id="see" name="see"/></td>
    </tr>
    <tr>
        <td>Nombres de paires de cartes</td>
        <td><span id="nbpair"></span></td>
    </tr>
    <tr>
        <td>Nombres de comptes créés</td>
        <td><a id="nbUser" href="liste_des_comptes.html"></a></td>
    </tr>
</table>-->

<div id="Button">
    <input type="submit" id="validate" name="validate" value="Sauvegarder"/>
    <!--<input type="submit" id="cancel" name="cancel" value="Annuler"/>
    <input type="submit" id="Apply" name="Apply" value="Appliquer"/>-->

</div>

<script type="text/javascript">
    /*
    **  fonction initialisation de la page.
     */
    function init()
    {
        config = load_data("config");
        if (config == null)
            config = create_config();

        updatePage();
        document.getElementById('validate').onclick = validate;
        document.getElementById('cancel').onclick = updatePage;
        document.getElementById('Apply').onclick = updateConfig;
    }

    /*
    **  fonction pour mettre à jour la variable de configuration.
     */
    function updateConfig()
    {
        var     val;

        /*config.version = document.getElementById('gameVersion').value;*/
        config.time = document.getElementById('timeGame').value;
        config.counter = document.getElementById('timeMemo').value;
        /*config.see = document.getElementById('see').value;*/
        val = JSON.stringify(config);
        window.localStorage.setItem("config", val);
    }

    /*
    **  fonction pour mettre à jour l'affichage de la page.
     */
    function updatePage()
    {
        /*document.getElementById('gameVersion').value = config.version;*/
        document.getElementById('timeGame').value = config.time;
        document.getElementById('timeMemo').value = config.counter;
        /*document.getElementById('see').value = config.see;
        document.getElementById('nbpair').innerHTML = String(config.nbpair);
        document.getElementById('nbUser').innerHTML = String(config.nbUser);*/
    }

    function validate()
    {
        updateConfig();
        location.href=("index.html");
    }
</script>
</body>
</html>